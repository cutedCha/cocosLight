window.__require=function e(t,r,o){function n(i,a){if(!r[i]){if(!t[i]){var s=i.split("/");if(s=s[s.length-1],!t[s]){var d="function"==typeof __require&&__require;if(!a&&d)return d(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+i+"'")}i=s}var u=r[i]={exports:{}};t[i][0].call(u.exports,function(e){return n(t[i][1][e]||e)},u,u.exports,e,t,r,o)}return r[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<o.length;i++)n(o[i]);return n}({demoMain:[function(e,t,r){"use strict";cc._RF.push(t,"0c28do6lElGTI/xlzUSGJQx","demoMain");var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=this&&this.__decorate||function(e,t,r,o){var n,c=arguments.length,i=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(i=(c<3?n(i):c>3?n(t,r,i):n(t,r))||i);return c>3&&i&&Object.defineProperty(t,r,i),i};Object.defineProperty(r,"__esModule",{value:!0});var i=e("./drawModule"),a=cc._decorator,s=a.ccclass,d=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.drawItem=null,t.radiusNode=null,t}var r;return n(t,e),r=t,t.prototype.onEnable=function(){r.sceneInstance=this,cc.director.getCollisionManager().enabled=!0,cc.director.getCollisionManager().enabledDebugDraw=!0,cc.director.getCollisionManager().enabledDrawBoundingBox=!0,cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().debugDrawFlags=cc.PhysicsManager.DrawBits.e_aabbBit|cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit},t.prototype.onLoad=function(){},t.prototype.start=function(){var e=this.radiusNode=new cc.Node;this.node.addChild(e),e.setPosition(0,0),i.drawModule.renderNodeMesh(e,1,334),this.bindTouchMove()},t.prototype.bindTouchMove=function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(t){var r=t.getLocation();r=e.node.convertToNodeSpaceAR(r),e.radiusNode.setPosition(r),i.drawModule.renderNodeMesh(e.radiusNode,360,334)},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){var r=t.getLocation();r=e.node.convertToNodeSpaceAR(r),e.radiusNode.setPosition(r),i.drawModule.renderNodeMesh(e.radiusNode,360,500)},this)},t.prototype.update=function(){this.radiusNode},t.sceneInstance=null,c([d(cc.Prefab)],t.prototype,"drawItem",void 0),r=c([s],t)}(cc.Component);r.default=u,cc._RF.pop()},{"./drawModule":"drawModule"}],drawModule:[function(e,t,r){"use strict";cc._RF.push(t,"c16c5AUMwBCRo9K8SzIkU2m","drawModule"),Object.defineProperty(r,"__esModule",{value:!0}),r.drawModule=void 0;var o,n=e("./demoMain");(function(e){function t(e,t){var r=t*Math.PI/180,o=Math.cos(r),n=Math.sin(r),c=e.x,i=e.y,a=c*o+i*n,s=i*o-c*n;return cc.v2({x:a,y:s})}function r(e,t,r){var n=t.normalize();n=n.mul(r);var c=o(e,cc.v2(n.x+e.x,n.y+e.y));return-1!=c?c:r}function o(e,t){var r=n.default.sceneInstance.node.convertToWorldSpaceAR(e),o=n.default.sceneInstance.node.convertToWorldSpaceAR(t),c=cc.director.getPhysicsManager().rayCast(r,o,cc.RayCastType.Closest);return c.length?cc.Vec2.distance(n.default.sceneInstance.node.convertToNodeSpaceAR(c[0].point),e):-1}e.drawSector=function(e,r,o){for(var n=[],c=cc.v2(o,0),i=[],a=[],s=[],d=0,u=0;u<e;u+=r){var l=u+r,p=t(c,u),f=t(c,l);n.push(cc.v2(0,0)),n.push(p),n.push(f),a.push(d),d++,a.push(d),d++,a.push(d),d++;for(var h=0;h<3;h++)i.push(cc.Color.YELLOW);s.push(cc.v2(0,0),cc.v2(0,1),cc.v2(1,0))}return{vertices:n,indices:a,uvs:s,colors:i}},e.rotatePointAroundOrigin=t,e.renderNodeMesh=function(t,o,n){var c=new cc.Mesh;(t.getComponent(cc.MeshRenderer)||t.addComponent(cc.MeshRenderer)).mesh=c;for(var i=e.drawSector(o,1,1),a=0;a<i.vertices.length;a++){var s=i.vertices[a];if(s.x||s.y){var d=r(t.position,s,n);i.vertices[a]=s.mul(d)}}cc.renderer.renderEngine;var u=cc.gfx,l=new u.VertexFormat([{name:u.ATTR_POSITION,type:u.ATTR_TYPE_FLOAT32,num:3},{name:u.ATTR_UV0,type:u.ATTR_TYPE_FLOAT32,num:2},{name:u.ATTR_COLOR,type:u.ATTR_TYPE_UINT8,num:4,normalize:!0}]);c.init(l,8,!0),c.setVertices(u.ATTR_POSITION,i.vertices),c.setVertices(u.ATTR_COLOR,i.colors),c.setVertices(u.ATTR_UV0,i.uvs),c.setIndices(i.indices)},e.rayCaseLine=r,e.testRayCase=o})(o=r.drawModule||(r.drawModule={})),window.drawModule=o,cc._RF.pop()},{"./demoMain":"demoMain"}]},{},["demoMain","drawModule"]);